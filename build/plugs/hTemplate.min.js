/*! singer version:0.1.0 2014-03-05 14:35:05 */
var hTemplate=window.hTemplate=function(a,b){String.prototype.replaceAll=function(a,b){var c=new RegExp(a,"gi");return this.replace(c,b)},String.prototype.bind=function(a,b){return b=b||"",this.replaceAll("\\{"+a+"\\}",b)},String.prototype.fill=function(a){if("object"!=typeof a)return"";var b=this;for(var c in a){var d=a[c]||"";b=b.bind(c,d)}return b=b.bind("[^}]+","")};var c={tmp:"",container:a(document),pager:a(".h-pager"),page:1,size:20,total:0,filter:b,fill:b},d=function(b){b=a.extend(c,b||{}),d.prototype.opt=b};return d.prototype.set=function(b){a.extend(this.opt,b||{})},d.prototype.fill=function(a){var b=this.opt;b.filter&&"function"==typeof b.filter&&(a=b.filter(a));var c=b.tmp.fill(a);b.fill&&"function"==typeof b.fill&&(c=b.fill(c,a)),b.container.append(c)},d.prototype.pager=function(){var a=this.opt,c=a.page,d=a.size,e=Math.ceil(a.total/d)||1;0>=c&&(c=1),c>e&&(c=e),0>=e&&(e=1);var f="",g=!b,h=!b,i=function(a){return"<li"+(a==c?' class="active"':"")+'><a href="javascript:void(0)">'+a+"</a></li>"};1==c&&(g=b),c==e&&(h=b);var j;if(e>=1&&9>e)for(j=1;e>=j;j++)f+=i(j);else{for(f+=i(1),c-3>1&&(f+="<li><span>...</span></li>"),j=c-3;c+4>j;j++)j>1&&e>j&&(f+=i(j));e>c+5&&(f+="<li><span>...</span></li>"),f+=i(e)}g&&(f='<li><a href="javascript:void(0)" data-act="-1">&laquo;</a></li>'+f),h&&(f+='<li><a href="javascript:void(0)" data-act="1">&raquo;</a></li>'),a.pager.html("<ul>"+f+"</ul>")},d.prototype.bind=function(a,c){if(!a)return b;if("object"==typeof a)if(a.length&&a.length>0)for(var d=0;d<a.length;d++)this.fill(a[d]);else this.fill(a);return this.set({total:c}),this.pager(),b},d}(jQuery,!1);