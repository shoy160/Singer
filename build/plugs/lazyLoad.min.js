/*! singer version:0.1.0 2014-03-06 14:10:38 */
jQuery.lazyLoad=function(a){function b(){o||(o=!0,setTimeout(function(){c()},a.execute),f())}function c(){o=!1}function d(){f()}function e(a){for(m=$(a),n=0;0>=n;)n=parseInt(m.offset().top),m=m.parent();return a._lazzOffsetTop=n,a}function f(){if(!k.length)return l.unbind("scroll.lazyLoad resize.lazyLoad"),void 0;if(i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,j=i+l.scrollTop()+a.prePixel,!(q>j)){q=j;var b,c;if(j>=p-50){for(b=0;b<k.length;b++)c=k[b],c.setAttribute("src",c.getAttribute(a.source)),c.removeAttribute(a.source);return k.splice(0),l.unbind("scroll.lazyLoad resize.lazyLoad"),void 0}for(b=0;b<k.length;b++)c=k[b],c._lazzOffsetTop<j&&(c.src=c.getAttribute(a.source),c.removeAttribute(a.source),k.splice(b--,1))}}var g={execute:50,source:"lazy-src",prePixel:60,selector:["img[lazy-src]"],exclude:[],auto:!1,holderImg:"http://www.img.100hg.com/blank.gif",loadingImg:"http://www.img.100hg.com/H-loading.gif",errImg:"http://www.img.100hg.com/100hg.gif"};a=$.extend(g,a);var h,i,j,k=[],l=$(window);!function(){var c=$(a.selector[0]);for(h=1;h<a.selector.length;h++)c=c.add(a.selector[h]);for(h=0;h<a.exclude.length;h++)c=c.not(a.exclude[h]);c.each(function(){"img"==this.tagName.toLowerCase()&&this.getAttribute(a.source)&&(a.holderImg&&this.setAttribute("src",a.holderImg),a.loadingImg&&$(this).addClass("lazy-loading"),k.push(e(this))),$(k).bind("error.lazyLoad",function(){a.holderImg&&(this.setAttribute("raw-src",this.src),this.src=a.holderImg),a.errImg&&$(this).removeClass("lazy-loading").addClass("image-error")})}),$(window).bind("scroll.lazyLoad resize.lazyLoad",function(){a.execute>0?b():d()}),g.auto&&f()}();var m,n,o=!1,p=$(document).height(),q=0;!function(){var b="";a.loadingImg&&(b+=".lazy-loading{background:url("+a.loadingImg+") no-repeat scroll 50% 50% transparent}"),a.errImg&&(b+=".image-error{background:url("+a.errImg+") no-repeat scroll 50% 50% transparent}"),b&&(b='<style type="text/css">'+b+"</style>",$("head").append(b))}()};