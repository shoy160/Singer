var singer=SINGER=window.SINGER=function(e){function n(e){var n={};for(var r in a)a.hasOwnProperty(r)&&!function(n,r){n[r]=function(n){return t.log(n,r,e)}}(n,r);return n}var t,r=this,i=0,o="",a={debug:10,info:20,warn:30,error:40};return t={__BUILD_TIME:"2014-10-04",Env:{host:r},Config:{debug:!0,loggerLevel:"debug",fns:{}},Version:"0.2.2",is:function(n,t){var r={NaN:1,Infinity:1,"-Infinity":1};return t=t.toLowerCase(),"finite"==t?!r.hasOwnProperty(+n):"array"==t?n instanceof Array:e===n&&"undefined"!==t?!1:"null"==t&&null===n||t==typeof n&&null!==n||"object"==t&&n===Object(n)||"array"==t&&Array.isArray&&Array.isArray(n)||Object.prototype.toString.call(n).slice(8,-1).toLowerCase()==t},isBoolean:function(e){return t.is(e,"boolean")},isDate:function(e){return t.is(e,"date")},isRegExp:function(e){return t.is(e,"regexp")},isObject:function(e){return t.is(e,"object")},isArray:function(e){return t.is(e,"array")},isNumber:function(e){return t.is(e,"number")},isFunction:function(e){return t.is(e,"function")},isNull:function(e){return t.is(e,"null")},isString:function(e){return t.is(e,"string")},isEmpty:function(e){return o===e||t.isNull(e)},isUndefined:function(e){return t.is(e,"undefined")},config:function(e,n){var r,i,o=this,a=t.Config,s=a.fns;if(t.isObject(e))for(var c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);else r=s[e],t.isUndefined(n)?i=r?r.call(o):a[e]:r?i=r.call(o,n):a[e]=n;return i},log:function(n,r,i){if(!t.Config.debug)return e;if((a[t.Config.loggerLevel]||1e3)>a["log"==r?"debug":r])return"min level";var o=!1;return i&&(o=t.isObject(n),o||(n=i+": "+n)),"undefined"!=typeof console&&console.log?(o&&console[r&&console[r]?r:"log"](i+":"),console[r&&console[r]?r:"log"](n),n):void 0},getLogger:function(e){return n(e)},guid:function(e){return(e||"")+i++},_mix:function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}},t.Logger={},t.Logger.Level={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"},t}();!function(e,n){var t=Array.prototype,r=t.indexOf,i=t.lastIndexOf,o=n,a=!1;e._mix(e,{each:function(n,t,r){if(n){var i,o,s,c=0,u=n&&n.length,f=e.isUndefined(u)||e.isFunction(n);if(r=r||null,f)for(s=e.keys(n);c<s.length&&(i=s[c],t.call(r,n[i],i,n)!==a);c++);else for(o=n[0];u>c&&t.call(r,o,c,n)!==a;o=n[++c]);}return n},index:function(e,n,t){if(r)return t===o?r.call(n,e):r.call(n,e,t);for(var i=t||0;i<n.length&&n[i]!==e;i++);return i},lastIndex:function(e,n,t){if(i)return t===o?i.call(n,e):i.call(n,e,t);t===o&&(t=n.length-1);for(var r=t;r>=0&&n[r]!==e;r--);return r},inArray:function(n,t){return e.index(n,t)>=0}})}(SINGER),function(e){var n=Date.prototype;n.addDays=n.addDays||function(e){return this.setDate(this.getDate()+e),this},n.format=n.format||function(e){var n={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var t in n)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[t]:("00"+n[t]).substr((""+n[t]).length)));return e},n.left=function(){var e={status:!0},n=this-new Date;0>n&&(e.status=!1,n=Math.abs(n));var t=n/864e5;e.dd=parseInt(t);var r=t-e.dd;return e.hh=parseInt(24*r),r=24*r-e.hh,e.mm=parseInt(60*r),r=60*r-e.mm,e.ss=parseInt(60*r),r=60*r-e.ss,e.ms=parseInt(60*r),e},e._mix(e,{nowTick:Date.now||function(){return+new Date},now:function(){return new Date(e.nowTick())},addDays:function(n,t){return e.isDate(n)?(t=e.isNumber(t)?t:0,new Date(n.addDays(t))):e.now()},formatDate:function(n,t){return e.isDate(n)?(t=t||"yyyy-MM-dd",n.format(t)):n},leftTime:function(e){return e.left()}})}(SINGER),function(e){e._mix(e,{later:function(n,t,r,i,o){var a,s;return t=t||0,e.isString(n)&&(n=i[n]),n||e.error("fn is undefined"),s=function(){n.apply(i,o)},a=r?setInterval(s,t):setTimeout(s,t),{timer:a,isInterval:r,cancel:function(){this.isInterval?clearInterval(a):clearTimeout(a)}}}})}(SINGER),function(S){S.json=function(json){if(S.isEmpty(json))return json;if(S.isObject(json)){if(Date===json.constructor)return"'new Date("+json.valueOf()+")'";var fmt=function(e){return S.isObject(e)&&null!=e?S.json(e):S.isString(e)||S.isNumber(e)?"'"+e+"'":e},arr=[],arrItem;return S.isArray(json)?(S.each(json,function(e){S.isNumber(e)?arr.push(e):S.isString(e)?arr.push("'"+e+"'"):(arrItem=[],S.each(S.keys(e),function(n){arrItem.push("'"+n+"':"+fmt(e[n]))}),arr.push("{"+arrItem.join(",")+"}"))}),"["+arr.join(",")+"]"):(S.each(S.keys(json),function(e){arr.push("'"+e+"':"+fmt(json[e]))}),"{"+arr.join(",")+"}")}return S.isString(json)?(json=json.replace(/'(new Date\(\d+\))'/gi,"$1"),eval("("+json+")")):void 0}}(SINGER),function(e){function n(n,i,o,a,s,c){if(!i||!n)return i;var u,f,l,d;for(i[r]=n,c.push(i),l=e.keys(i),d=l.length,u=0;d>u;u++)f=l[u],f!==r&&t(f,n,i,o,a,s,c);return n}function t(t,i,o,a,s,c,u){if(a||!(t in i)||c){var f=i[t],l=o[t];if(f===l)return void(void 0===f&&(i[t]=f));if(s&&(l=s.call(o,t,l)),c&&l&&(e.isArray(l)||e.isObject(l)))if(l[r])i[t]=l[r];else{var d=f&&(e.isArray(f)||e.isObject(f))?f:e.isArray(l)?[]:{};i[t]=d,n(d,l,a,s,!0,u)}else void 0===l||!a&&t in i||(i[t]=l)}}var r="__MIX_CIRCULAR",i=!{toString:1}.propertyIsEnumerable("toString"),o=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toLocaleString","valueOf"];e._mix(e,{keys:Object.keys||function(e){var n,t,r=[];for(n in e)e.hasOwnProperty(n)&&r.push(n);if(i)for(t=o.length-1;t>=0;t--)n=o[t],e.hasOwnProperty(n)&&r.push(n);return r},mix:function(t,i,o,a,s){if(o&&e.isObject(o)&&(a=o.whiteList,s=o.deep,o=o.overwrite),a&&!e.isFunction(a)){var c=a;a=function(n,t){return e.inArray(n,c)?t:void 0}}void 0===o&&(o=!0);var u,f=[],l=0;for(n(t,i,o,a,s,f);u=f[l++];)delete u[r];return t},clone:function(e){var n;n=e.constructor===Object?new e.constructor:new e.constructor(e.valueOf());for(var t in e)e.hasOwnProperty(t)&&n[t]!=e[t]&&(n[t]="object"==typeof e[t]?e[t].clone():e[t]);return n.toString=e.toString,n.valueOf=e.valueOf,n}})}(SINGER),function(e,n){var t=/^[\s\xa0]+|[\s\xa0]+$/g,r=String.prototype.trim,i=/\\?\{([^{}]+)\}/g,o="";e._mix(e,{trim:function(n){return e.isEmpty(n)?n:r?r.call(n):(n+"").replace(t,o)},lengthCn:function(n){return e.isString(n)?n.replace(/[\u4e00-\u9fa5]/g,"**").length:0},subCn:function(n,t,r){if(e.lengthCn(n)<=t)return n.toString();for(var i=0;i<n.length;i++)if(e.lengthCn(this.substr(0,i))>=t)return n.substr(0,i)+(r||"...");return n},stripTags:function(e){return e.replace(/<\/?[^>]+>/gi,"")},stripScript:function(e){return e.replace(/<script[^>]*>([\\S\\s]*?)<\/script>/g,"")},isMobile:function(n){return/^(1[3,5,8]\d{9})$/.test(e.trim(n))},isTelephone:function(n){return/((0[1-9]{2,3}[\s-]?)?\d{7,8})/gi.test(e.trim(n))},substitute:function(t,r,a){return e.isString(t)&&r?t.replace(a||i,function(e,t){return"\\"===e.charAt(0)?e.slice(1):r[t]===n?o:r[t]}):t},ucFirst:function(e){return e+="",e.charAt(0).toUpperCase()+e.substring(1)},startsWith:function(e,n){return 0===e.lastIndexOf(n,0)},endsWith:function(e,n){var t=e.length-n.length;return t>=0&&e.indexOf(n,t)===t},format:function(n){if(arguments.length<=1)return n||o;var t,r=n;if(2===arguments.length&&e.isObject(arguments[1]))for(var i in arguments[1])arguments[1].hasOwnProperty(i)&&(t=new RegExp("\\{"+i+"\\}","gi"),r=r.replace(t,arguments[1][i]));else for(var a=1;a<arguments.length;a++)t=new RegExp("\\{"+(a-1)+"\\}","gi"),r=r.replace(t,arguments[a]);return r},padLeft:function(n,t,r){r=e.isUndefined(r)?"0":r;for(var i=String(n);i.length<t;)i=r+i;return i},padRight:function(n,t,r){r=e.isUndefined(r)?"0":r;for(var i=String(n);i.length<t;)i+=r;return i}})}(SINGER),function(e){}(SINGER),function(e){function n(e){var n=0;return parseFloat(e.replace(/\./g,function(){return 0===n++?".":""}))}function t(e,t){var r,i;t[r="trident"]=.1,(i=e.match(/Trident\/([\d.]*)/))&&i[1]&&(t[r]=n(i[1])),t.core=r}function r(e){var t,r;return(t=e.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(r=t[1]||t[2])?n(r):0}function i(e){var i,o,s,c,u,f="",l=f,d=f,g=[6,9],h="{{version}}",p="<!--[if IE "+h+"]><s></s><![endif]-->",m=a&&a.createElement("div"),v=[],y={webkit:void 0,trident:void 0,gecko:void 0,presto:void 0,chrome:void 0,safari:void 0,firefox:void 0,ie:void 0,ieMode:void 0,opera:void 0,mobile:void 0,core:void 0,shell:void 0,phantomjs:void 0,os:void 0,ipad:void 0,iphone:void 0,ipod:void 0,ios:void 0,android:void 0,nodejs:void 0};if(m&&m.getElementsByTagName&&(m.innerHTML=p.replace(h,""),v=m.getElementsByTagName("s")),v.length>0){for(t(e,y),c=g[0],u=g[1];u>=c;c++)if(m.innerHTML=p.replace(h,c),v.length>0){y[d="ie"]=c;break}!y.ie&&(s=r(e))&&(y[d="ie"]=s)}else(o=e.match(/AppleWebKit\/([\d.]*)/))&&o[1]?(y[l="webkit"]=n(o[1]),(o=e.match(/OPR\/(\d+\.\d+)/))&&o[1]?y[d="opera"]=n(o[1]):(o=e.match(/Chrome\/([\d.]*)/))&&o[1]?y[d="chrome"]=n(o[1]):(o=e.match(/\/([\d.]*) Safari/))&&o[1]&&(y[d="safari"]=n(o[1])),/ Mobile\//.test(e)&&e.match(/iPad|iPod|iPhone/)?(y.mobile="apple",o=e.match(/OS ([^\s]*)/),o&&o[1]&&(y.ios=n(o[1].replace("_","."))),i="ios",o=e.match(/iPad|iPod|iPhone/),o&&o[0]&&(y[o[0].toLowerCase()]=y.ios)):/ Android/i.test(e)?(/Mobile/.test(e)&&(i=y.mobile="android"),o=e.match(/Android ([^\s]*);/),o&&o[1]&&(y.android=n(o[1]))):(o=e.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))&&(y.mobile=o[0].toLowerCase()),(o=e.match(/PhantomJS\/([^\s]*)/))&&o[1]&&(y.phantomjs=n(o[1]))):(o=e.match(/Presto\/([\d.]*)/))&&o[1]?(y[l="presto"]=n(o[1]),(o=e.match(/Opera\/([\d.]*)/))&&o[1]&&(y[d="opera"]=n(o[1]),(o=e.match(/Opera\/.* Version\/([\d.]*)/))&&o[1]&&(y[d]=n(o[1])),(o=e.match(/Opera Mini[^;]*/))&&o?y.mobile=o[0].toLowerCase():(o=e.match(/Opera Mobi[^;]*/))&&o&&(y.mobile=o[0]))):(s=r(e))?(y[d="ie"]=s,t(e,y)):(o=e.match(/Gecko/))&&(y[l="gecko"]=.1,(o=e.match(/rv:([\d.]*)/))&&o[1]&&(y[l]=n(o[1]),/Mobile|Tablet/.test(e)&&(y.mobile="firefox")),(o=e.match(/Firefox\/([\d.]*)/))&&o[1]&&(y[d="firefox"]=n(o[1])));return i||(/windows|win32/i.test(e)?i="windows":/macintosh|mac_powerpc/i.test(e)?i="macintosh":/linux/i.test(e)?i="linux":/rhino/i.test(e)&&(i="rhino")),y.os=i,y.core=y.core||l,y.shell=d,y.ieMode=y.ie&&a.documentMode||y.ie,y}var o=e.Env.host,a=o.document,s=o.navigator,c=s&&s.userAgent||"",u=SINGER.UA=i(c);if("object"==typeof process){var f,l;(f=process.versions)&&(l=f.node)&&(u.os=process.platform,u.nodejs=n(l))}u.getDescriptorFromUserAgent=i}(SINGER),function(e){var n=/^(\/?)([\s\S]+\/(?!$)|\/)?((?:\.{1,2}$|[\s\S]+?)?(\.[^.\/]*)?)$/;e._mix(e,{uri:function(e){var n,t=[];if(n=e?e+"":location.search,n.indexOf("?")>=0&&(n=n.substring(1)),n&&(n=n.split("&")),n.length>0)for(var r=0;r<n.length;r++){var i=n[r].split("=");t[i[0]]=decodeURIComponent(i[1])}return t},cookie:{set:function(n,t,r,i){if("string"==typeof n&&""!==e.trim(n)){var o=n+"="+encodeURI(t);if("number"==typeof r&&r>0){var a=(new Date).getTime()+6e4*r;o+=";expires="+new Date(a).toGMTString()}"string"==typeof i&&(o+=";domain="+i),document.cookie=o+"; path=/"}},get:function(e){var n=document.cookie,t=e+"=",r=n.indexOf("; "+t);if(-1==r){if(r=n.indexOf(t),0!=r)return null}else r+=2;var i=n.indexOf(";",r);return-1==i&&(i=n.length),decodeURI(n.substring(r+t.length,i))},clear:function(e,n){this.get(e)&&(document.cookie=e+"="+(n?"; domain="+n:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT")}},stringify:function(n){if(!n||n.length||!e.isObject(n))return"";var t=[];return e.each(e.keys(n),function(r){var i=n[r];t.push(e.isObject(i)||e.isArray(i)?r+"="+encodeURIComponent(e.json(i)):r+"="+encodeURIComponent(i))}),t.join("&")},ext:function(e){return(e.match(n)||[])[4]||""}})}(SINGER),function(e){e._mix(e,{})}(SINGER),function(e){var n=1e3,t=document,r=e.UA,i=t.getElementsByTagName("head")[0]||t.documentElement,o={};e._mix(e,{currentScript:function(){if(document.currentScript)return document.currentScript.src;var e;try{a.b.c()}catch(n){e=n.stack,!e&&window.opera&&(e=(String(n).match(/of linked script \S+/g)||[]).join(" "))}if(e)return e=e.split(/[@ ]/g).pop(),e="("==e[0]?e.slice(1,-1):e,e.replace(/(:\d+)?:\d+$/i,"");for(var t,r=document.getElementsByTagName("script"),i=0;t=r[i++];)if("interactive"===t.readyState)return t.className=t.src},loadScript:function(a,s,c){function u(){var e=v.readyState;e&&"loaded"!==e&&"complete"!==e||(v.onreadystatechange=v.onload=null,S(0))}var f,l,d,g,h,p=s,m=0;if(e.startsWith(e.ext(a).toLowerCase(),".css")&&(m=1),e.isObject(p)&&(s=p.success,f=p.error,l=p.attrs,d=p.timeout,c=p.charset),g=o[a]=o[a]||[],g.push([s,f]),g.length>1)return g.node;var v=t.createElement(m?"link":"script"),y=function(){h&&(h.cancel(),h=void 0)};l&&e.each(l,function(n,t){var r=t.toLowerCase();"async"!=r||e.isUndefined(v.async)?v.setAttribute(t,n):v.async=n}),c&&(v.charset=c),m?(v.href=a,v.rel="stylesheet"):(v.src=a,v.async=!0),g.node=v;var S=function(n){var t,r=n;y(),e.each(o[a],function(e){(t=e[r])&&t.call(v)}),delete o[a]},b="onload"in v,w=e.Config.forceCssPoll||r.webkit&&r.webkit<536;return m&&w&&b&&(b=!1),b?(v.onload=u,v.onerror=function(){v.onerror=null,S(1)}):m||(v.onreadystatechange=u),d&&(h=e.later(function(){S(1)},d*n)),m?i.appendChild(v):i.insertBefore(v,i.firstChild),v}})}(SINGER);