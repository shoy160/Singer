modulex.add("dom/ie",["modulex-util","dom/base","modulex-ua"],function(e,t,r){var n,a,o,i,l,u,s,c,d=e("modulex-util"),f=e("dom/base"),p=e("modulex-ua");n=function(e){e={};var t=d,r=f;r._fixCloneAttributes=function(e,t){t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e);var n,a,o=t.nodeName.toLowerCase(),i=e.childNodes,l=(e.type||"").toLowerCase();if("object"!==o||t.childNodes.length)"input"!==o||"checkbox"!==l&&"radio"!==l?"option"===o?t.selected=e.defaultSelected:("input"===o||"textarea"===o)&&(t.defaultValue=e.defaultValue,t.value=e.value):(a=e.checked,a&&(t.defaultChecked=t.checked=a),n=e.value,t.value!==n&&(t.value=n));else for(var u=0;u<i.length;u++)t.appendChild(i[u].cloneNode(!0));t.removeAttribute(r.__EXPANDO)};var n=r._creators,a=r._defaultCreator,o=/<tbody/i;return p.ieMode<8&&(n.table=function(e,n){var i=a(e,n),l=o.test(e);if(l)return i;var u=i.firstChild,s=t.makeArray(u.childNodes);return t.each(s,function(e){"tbody"!==r.nodeName(e)||e.childNodes.length||u.removeChild(e)}),i}),e}(),a=function(e){function t(e){("checkbox"===e.type||"radio"===e.type)&&(e.defaultChecked=e.checked)}e={};var r=f,n=p;return n.ieMode<8&&(r._fixInsertionChecked=function a(e){for(var n=0;n<e.length;n++){var o=e[n];if(o.nodeType===r.NodeType.DOCUMENT_FRAGMENT_NODE)a(o.childNodes);else if("input"===r.nodeName(o))t(o);else if(o.nodeType===r.NodeType.ELEMENT_NODE)for(var i=o.getElementsByTagName("input"),l=0;l<i.length;l++)a(i[l])}}),e}(),o=function(e){e={};var t=d,r=f,n=r._cssProps,a=p,o="float",i=100,l=document,u=l&&l.documentElement,s="opacity",c="style",h=/^(top|right|bottom|left)$/,g="filter",m="currentStyle",v="runtimeStyle",x="left",y="px",b=r._cssHooks,E="backgroundPosition",N=/opacity\s*=\s*([^)]*)/,T=/alpha\([^)]*\)/i;n[o]="styleFloat",b[E]={get:function(e,t){return t?e[m][E+"X"]+" "+e[m][E+"Y"]:e[c][E]}};try{null==u.style[s]&&(b[s]={get:function(e,t){return N.test((t&&e[m]?e[m][g]:e[c][g])||"")?parseFloat(RegExp.$1)/i+"":t?"1":""},set:function(e,r){r=parseFloat(r);var n=e[c],a=e[m],o=isNaN(r)?"":"alpha("+s+"="+r*i+")",l=t.trim(a&&a[g]||n[g]||"");n.zoom=1,(!(r>=1)&&o||t.trim(l.replace(T,""))||(n.removeAttribute(g),o&&(!a||a[g])))&&(n.filter=T.test(l)?l.replace(T,o):l+(l?", ":"")+o)}})}catch(_){}var k=8===a.ie,M={},C=["","Top","Left","Right","Bottom"];return M.thin=k?"1px":"2px",M.medium=k?"3px":"4px",M.thick=k?"5px":"6px",t.each(C,function(e){var t="border"+e+"Width",r="border"+e+"Style";b[t]={get:function(e,n){var a=n?e[m]:0,o=a&&String(a[t])||void 0;return o&&o.indexOf("px")<0&&(o=M[o]&&"none"!==a[r]?M[o]:0),o}}}),r._getComputedStyle=function(e,t){t=n[t]||t;var a=e[m]&&e[m][t];if(r._RE_NUM_NO_PX.test(a)&&!h.test(t)){var o=e[c],i=o[x],l=e[v][x];e[v][x]=e[m][x],o[x]="fontSize"===t?"1em":a||0,a=o.pixelLeft+y,o[x]=i,e[v][x]=l}return""===a?"auto":a},e}(),i=function(e){e={};var t=f;t._contains=function(e,r){return e.nodeType===t.NodeType.DOCUMENT_NODE&&(e=e.documentElement),r=r.parentNode,e===r?!0:r&&r.nodeType===t.NodeType.ELEMENT_NODE?e.contains&&e.contains(r):!1};var r=document.createElement("div");r.appendChild(document.createComment(""));var n;n=r.getElementsByTagName("*").length?function(e,t){var r=t.getElementsByTagName(e),n="*"===e;if(n||"number"!=typeof r.length){for(var a,o=[],i=0;a=r[i++];)n&&1!==a.nodeType||o.push(a);return o}return r}:function(e,t){return t.getElementsByTagName(e)},t._getElementsByTagName=n;var a=t._getSimpleAttr;return t._getElementById=function(e,t){var r=t.getElementById(e);if(r&&a(r,"id")!==e)for(var o=n("*",t),i=0,l=o.length;l>i;i++)if(a(o[i],"id")===e)return o[i];return r},e}(),l=function(e){function t(e,t,r){var n=t[0],a=t[1];return i([[1,0,n],[0,1,a],[0,0,1]],e,[[1,0,-n],[0,1,-a],[0,0,1]],[[r.x],[r.y],[1]])}function r(e,t){e=e||"50% 50%",e=e.split(/\s+/),1===e.length&&(e[1]=e[0]);for(var r=0;r<e.length;r++){var n=parseFloat(e[r]);e[r]=u.endsWith(e[r],"%")?n*t[r?"height":"width"]/100:n}return e}function n(e){e=e.split(")");for(var t,r,n,o,s=u.trim,c=-1,d=e.length-1,f=a([1,0,0,1,0,0]);++c<d;){switch(t=e[c].split("("),r=s(t[0]),n=t[1],o=[1,0,0,1,0,0],r){case"translateX":o[4]=parseInt(n,10);break;case"translateY":o[5]=parseInt(n,10);break;case"translate":n=n.split(","),o[4]=parseInt(n[0],10),o[5]=parseInt(n[1]||0,10);break;case"rotate":n=l(n),o[0]=Math.cos(n),o[1]=Math.sin(n),o[2]=-Math.sin(n),o[3]=Math.cos(n);break;case"scaleX":o[0]=+n;break;case"scaleY":o[3]=+n;break;case"scale":n=n.split(","),o[0]=+n[0],o[3]=n.length>1?+n[1]:+n[0];break;case"skewX":o[2]=Math.tan(l(n));break;case"skewY":o[1]=Math.tan(l(n));break;case"skew":n=n.split(","),o[2]=Math.tan(l(n[0])),n.length>1&&(o[1]=Math.tan(l(n[1])));break;case"matrix":n=n.split(","),o[0]=+n[0],o[1]=+n[1],o[2]=+n[2],o[3]=+n[3],o[4]=parseInt(n[4],10),o[5]=parseInt(n[5],10)}f=i(f,a(o))}return f}function a(e){return[[e[0],e[2],e[4]],[e[1],e[3],e[5]],[0,0,1]]}function o(e,t,r,n){e[t]||(e[t]=[]),e[t][r]=n}function i(e,t){var r;if(arguments.length>2){var n=e;for(r=1;r<arguments.length;r++)n=i(n,arguments[r]);return n}var a=[],l=e.length,u=t.length,s=t[0].length;for(r=0;l>r;r++)for(var c=0;s>c;c++){for(var d=0,f=0;u>f;f++)d+=e[r][f]*t[f][c];o(a,r,c,d)}return a}function l(e){return e.indexOf("deg")>-1?parseInt(e,10)*(2*Math.PI/360):parseFloat(e)}e={};var u=d,s=f,c=s._cssHooks,p=/progid:DXImageTransform.Microsoft.Matrix\(([^)]*)\)/;return c.transform={get:function(e,t){var r,n=e[t?"currentStyle":"style"];if(!n||!p.test(n.filter))return t?"none":"";r=RegExp.$1.split(",");var a=0,o=0,i=r[4]&&r[4].split("="),l=r[5]&&r[5].split("=");return i&&"dx"===i[0].toLowerCase()&&(a=parseFloat(i[1])),l&&"dy"===l[0].toLowerCase()&&(o=parseFloat(l[1])),r=[r[0].split("=")[1],r[2].split("=")[1],r[1].split("=")[1],r[3].split("=")[1],a,o],"matrix("+r.join(",")+")"},set:function(e,a){var o,i,l,s=e.style,c=e.currentStyle,d={width:e.clientWidth,height:e.clientHeight},f={x:d.width/2,y:d.height/2},h=r(e.style.transformOrigin,d);if(s.zoom=1,a?(a=n(a),o=t(a,h,f),o.x=o[0][0],o.y=o[1][0],i=["progid:DXImageTransform.Microsoft.Matrix(M11="+a[0][0],"M12="+a[0][1],"M21="+a[1][0],"M22="+a[1][1],"Dx="+a[0][2],"Dy="+a[1][2],'SizingMethod="auto expand"'].join(",")+")"):i="",l=c&&c.filter||s.filter||"",i||u.trim(l.replace(p,""))||(s.removeAttribute("filter"),i&&(!c||c.filter)))if(s.filter=p.test(l)?l.replace(p,i):l+(l?", ":"")+i,i){var g={x:e.offsetWidth/2,y:e.offsetHeight/2};s.marginLeft=o.x-g.x+"px",s.marginTop=o.y-g.y+"px"}else s.marginLeft=s.marginTop=0}},e}(),u=function(e){function t(e,t){var a=0,i=0,l=r(e),u=n(e);return u.inRange(l)&&(u.setEndPoint("EndToStart",l),a=o(e,u).length,t&&(i=a+o(e,l).length)),[a,i]}function r(e){return e.ownerDocument.selection.createRange()}function n(e){if("textarea"===e.type){var t=e.document.body.createTextRange();return t.moveToElementText(e),t}return e.createTextRange()}function a(e,t,r){var n=Math.min(t,r),a=Math.max(t,r);if(n===a)return 0;if("textarea"===e.type){var o=e.value.substring(n,a).replace(/\r\n/g,"\n").length;return t>r&&(o=-o),o}return r-t}function o(e,t){if("textarea"===e.type){var r=t.text,n=t.duplicate();return 0===n.compareEndPoints("StartToEnd",n)?r:(n.moveEnd("character",-1),n.text===r&&(r+="\r\n"),r)}return t.text}e={};var i=f,l=i._propHooks;return l.selectionStart={set:function(e,o){var i=r(e),l=n(e);if(l.inRange(i)){var u=t(e,1)[1],s=a(e,o,u);i.collapse(!1),i.moveStart("character",-s),o>u&&i.collapse(!0),i.select()}},get:function(e){return t(e)[0]}},l.selectionEnd={set:function(e,o){var i=r(e),l=n(e);if(l.inRange(i)){var u=t(e)[0],s=a(e,u,o);i.collapse(!0),i.moveEnd("character",s),u>o&&i.collapse(!1),i.select()}},get:function(e){return t(e,1)[1]}},e}(),s=function(e){function t(e){var r="",n=e.nodeType;if(n===a.NodeType.ELEMENT_NODE)for(e=e.firstChild;e;e=e.nextSibling)r+=t(e);else(n===l.TEXT_NODE||n===l.CDATA_SECTION_NODE)&&(r+=e.nodeValue);return r}e={};var r,n=d,a=f,o=a._attrHooks,i=a._attrNodeHook,l=a.NodeType,u=a._valHooks,s=a._propFix,c="href",h=p.ieMode;return 8>h&&(o.style.set=function(e,t){e.style.cssText=t},n.mix(i,{get:function(e,t){var r=e.getAttributeNode(t);return r&&(r.specified||r.nodeValue)?r.nodeValue:void 0},set:function(e,t,r){var n,a=e.getAttributeNode(r);if(a)a.nodeValue=t;else try{n=e.ownerDocument.createAttribute(r),n.value=t,e.setAttributeNode(n)}catch(o){return e.setAttribute(r,t,0)}}}),n.mix(a._attrFix,s),o.tabIndex=o.tabindex,n.each([c,"src","width","height","colSpan","rowSpan"],function(e){o[e]={get:function(t){var r=t.getAttribute(e,2);return null===r?void 0:r}}}),u.button=o.value=i,o.placeholder={get:function(e,t){return e[t]||i.get(e,t)}},u.option={get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}}),r=o[c]=o[c]||{},r.set=function(e,t,r){var n,a=e.childNodes,o=a.length,i=o>0;for(o-=1;o>=0;o--)a[o].nodeType!==l.TEXT_NODE&&(i=0);i&&(n=e.ownerDocument.createElement("b"),n.style.display="none",e.appendChild(n)),e.setAttribute(r,""+t),n&&e.removeChild(n)},a._getText=t,e}(),c=function(e){return e={}}(),r.exports=c});